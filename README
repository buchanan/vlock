

   VV       VV  LL          OOO       CCCCC  KK   KK
    VV     VV   LL        OO   OO   CC       KK KK    written by
     VV   VV    LL       OO     OO  CC       KK        Michael K. Johnson
      VV VV     LL        OO   OO   CC       KK KK    for the Linux Journal
       VVV      LLLLLLLL    OOO       CCCCC  KK   KK


This is vlock, the Linux _V_irtual Console locking program.  It
allows you to lock one or all of the sessions of your Linux console
display.

Usage is very simple; by default, vlock locks the single console
you are on.  The -a or --all flags cause it to lock the console
completely, so that users cannot switch to another virtual
console.

If you are working on a shared Linux computer, and want to lock
a console session as you left it, but want to allow other users
to log onto other sessions, simply run vlock when you leave the
computer.

If you want to lock the console so that no one else can log onto
any of the virtual consoles (perhaps because you have login sessions
running on several other virtual consoles at the same time), you
use the -a or --all flag to cause vlock to not allow any user
to switch to any console without typing your password.

  WARNING: If you lock all the consoles, they will be *really*
  locked.  Unless you have a serial terminal or a network to log
  in from remotely to kill vlock, you *will not* be able to
  get back to your terminal session without entering the
  correct password.  While I was developing this program, a
  few small bugs forced me to do *hard resets*.  If you loose
  data because you have to reset your computer because of
  vlock -a, it is your own problem, not mine.  I warned you.

"vlock -h" or "vlock --help" will get you a help message.

Features:
Currently, vlock doesn't have very many features.  It locks the
console.  I started putting in hooks for fancy screen-saving
neat-looking displays using vgalib, but haven't implemented
anything yet, and probably never will.  If anyone is interested
in doing this, please contact me.

Shadow passwords:
I don't use shadow passwords, so I can't test this with shadow
passwords.  If you have shadow passwords, please compile this
(at least input.c) with -SHADOW_PWD, and make vlock setuid
root or setgid shadow (however your shadow password setup
is done) and try it.  Please send me any patches needed to
make it work.

  NOTICE:  Except for shadow passwords, this program does not
  need to run with any setuid or setgid priviledges, and I do
  not guarantee that it is safe.  I don't know of anything in
  particular that would make it unsafe, but I haven't tried to
  find anything either.

In any case, whether running it setuid, setgid, or with
no special permissions, I can take no responsibility for
any damages caused by this program or your use of it.  I
give no warranty of merchantability or fitness for a
particular purpose.



Please send me any comments you have about vlock.  My
name is Michael K. Johnson, and my email address is
johnsonm@sunsite.unc.edu.

I wrote this code as a demonstration of the VT ioctls
for the Linux Journal.  I encourage anyone who does
not have a subscription to subscribe:  email
linux@fylz.com for subscription information.